<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2014-07-31 16:51 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20140731" />
    <meta http-equiv="Content-Language" content="en" />
    <title>spritepacker-maven-plugin Maven Mojo - Spritepacker Maven Plugin</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/1and1/foss-parent">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="http://blog.1und1.de/" id="bannerLeft">
                                                                                        <img src="https://secure.gravatar.com/avatar/4bc599826789a6d0265a406b7e64e012"  alt="1&1" width="45" height="45"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="http://blog.1und1.de/" class="externalLink" title="1&1">
        1&1</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="https://github.com/1and1/" class="externalLink" title="1&1 FOSS">
        1&1 FOSS</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="../foss-parent" title="1-and-1 :: FOSS parent pom">
        1-and-1 :: FOSS parent pom</a>
                    <span class="divider">/</span>
      </li>
                <li class="">
                    <a href="./" title="spritepacker-maven-plugin Maven Mojo">
        spritepacker-maven-plugin Maven Mojo</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">Spritepacker Maven Plugin</li>
        
                
                    
                  <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2014-07-31 16:51</li>
              <li id="projectVersion" class="pull-right">
                    Version: 1.0.0-SNAPSHOT
        </li>
            
                            </ul>
      </div>

                  
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                                                    
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-down"></i>
        Project Information</a>
                    <ul class="nav nav-list">
                    
      <li class="active">
  
            <a href="#"><i class="none"></i>About</a>
          </li>
                    
      <li>
  
                          <a href="plugin-management.html" title="Plugin Management">
          <i class="none"></i>
        Plugin Management</a>
            </li>
                    
      <li>
  
                          <a href="distribution-management.html" title="Distribution Management">
          <i class="none"></i>
        Distribution Management</a>
            </li>
                    
      <li>
  
                          <a href="dependency-info.html" title="Dependency Information">
          <i class="none"></i>
        Dependency Information</a>
            </li>
                    
      <li>
  
                          <a href="source-repository.html" title="Source Repository">
          <i class="none"></i>
        Source Repository</a>
            </li>
                    
      <li>
  
                          <a href="mail-lists.html" title="Mailing Lists">
          <i class="none"></i>
        Mailing Lists</a>
            </li>
                    
      <li>
  
                          <a href="issue-tracking.html" title="Issue Tracking">
          <i class="none"></i>
        Issue Tracking</a>
            </li>
                    
      <li>
  
                          <a href="integration.html" title="Continuous Integration">
          <i class="none"></i>
        Continuous Integration</a>
            </li>
                    
      <li>
  
                          <a href="plugins.html" title="Project Plugins">
          <i class="none"></i>
        Project Plugins</a>
            </li>
                    
      <li>
  
                          <a href="license.html" title="Project License">
          <i class="none"></i>
        Project License</a>
            </li>
                    
      <li>
  
                          <a href="dependency-management.html" title="Dependency Management">
          <i class="none"></i>
        Dependency Management</a>
            </li>
                    
      <li>
  
                          <a href="team-list.html" title="Project Team">
          <i class="none"></i>
        Project Team</a>
            </li>
                    
      <li>
  
                          <a href="project-summary.html" title="Project Summary">
          <i class="none"></i>
        Project Summary</a>
            </li>
                    
      <li>
  
                          <a href="dependencies.html" title="Dependencies">
          <i class="none"></i>
        Dependencies</a>
            </li>
              </ul>
        </li>
                                                                                                                                                                                                                                                                                                                                                
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                   
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

    
    <div class="g-plusone" data-href="http://1and1.github.io/spritepacker-maven-plugin/" data-size="tall" ></div>

                   <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                                                                                                                   <a href="http://maven.apache.org/" title="Maven" class="builtBy">
        <img class="builtBy"  alt="Maven" src="http://maven.apache.org/images/logos/maven-feather.png"    />
      </a>
                                                                                                    <a href="https://github.com/1and1/" title="1&1 at github" class="builtBy">
        <img class="builtBy"  alt="1&1 at github" src="https://assets.github.com/images/modules/header/logov7-hover.png"    />
      </a>
                      </div>
          </div>
        </div>
        
                        
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>Spritepacker Maven Plugin</h1>
<p>This project is a maven plugin to take a set of input images and combine them into a PNG spritesheet. It is capable of generating plain CSS output with icons names as class names, Less mixins that take the icon name as a parameter, or a JSON(P) file containing descriptive information about the spritesheet layout that can be plugged into other tools.</p>
<div class="section">
<h2>Usage<a name="Usage"></a></h2>
<p>Include the plugin in your maven project, and use the pom.xml configuration directives to tell it what images you want to combine and where you would like it to combine them to.</p>

<div class="source">
<pre>&lt;plugin&gt;
    &lt;groupId&gt;net.oneandone.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;spritepacker-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;1.0.0&lt;/version&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;goals&gt;
                &lt;goal&gt;compile&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
                &lt;sourceDirectory&gt;${project.basedir}/src/images/sprites/&lt;/sourceDirectory&gt;
                &lt;output&gt;${project.build.directory}/images/sprite.png&lt;/output&gt;
                &lt;includes&gt;
                    &lt;include&gt;*.png&lt;/include&gt;
                &lt;/includes&gt;
                &lt;excludes&gt;
                    &lt;exclude&gt;*.gif&lt;/exclude&gt;
                &lt;/excludes&gt;
                &lt;json&gt;${project.build.directory}/images/sprite.json&lt;/json&gt;
                &lt;jsonpVar&gt;sprite&lt;/jsonpVar&gt;
                &lt;css&gt;${project.build.directory}/images/sprite.css&lt;/css&gt;
                &lt;cssPrefix&gt;icon&lt;/cssPrefix&gt;
                &lt;less&gt;${project.build.directory}/images/sprite.less&lt;/less&gt;
                &lt;lessNamespace&gt;icon&lt;/lessNamespace&gt;
                &lt;padding&gt;10&lt;/padding&gt;
            &lt;/configuration&gt;

        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;
</pre></div></div>
<div class="section">
<h2>Configuration<a name="Configuration"></a></h2>
<p><b>sourceDirectory</b><br />&#160;&#160;&#160;&#160; <b><i>(required)</i></b> The directory where your source images reside. This will be scanned recursively and files included based on include/exclude rules.</p>
<p><b>includes</b><br />&#160;&#160;&#160;&#160; <i>(optional)</i> Expression of which files to include. See [http://plexus.codehaus.org/plexus-utils/apidocs/org/codehaus/plexus/util/DirectoryScanner.html] for more details.</p>
<p><b>excludes</b><br />&#160;&#160;&#160;&#160; <i>(optional)</i> Expression of which files to exclude. See [http://plexus.codehaus.org/plexus-utils/apidocs/org/codehaus/plexus/util/DirectoryScanner.html] for more details.</p>
<p><b>output</b><br />&#160;&#160;&#160;&#160; <b><i>(required)</i></b> File to write PNG spritesheet to.</p>
<p><b>forceOverwrite</b><br />&#160;&#160;&#160;&#160; <i>(optional, default=false)</i> Normally the output files are not re-generated if they already exist and none of the source files are newer than any of the output files. Setting this option to true ensures that all output files are re-created and overwritten regardless of the source files&#x2019; last modified dates. This could be especially useful if you want icons that are deleted from the source directory to always be removed from the spritesheet.</p>
<p><b>padding</b><br />&#160;&#160;&#160;&#160; <i>(optional)</i> Padding in pixels to be added around each image and the edges of the spritesheet. Useful if you are having problems with images bleeding into each other due to users zooming, sub-pixel rendering, etc&#x2026;</p>
<p><b>json</b><br />&#160;&#160;&#160;&#160; <i>(optional)</i> File to write JSON(P) spritesheet metadata to. See <a href="#json">below</a> for structure.</p>
<p><b>jsonpVar</b><br />&#160;&#160;&#160;&#160; <i>(optional)</i> If set this is used as a padding variable to make the JSON file into a JSONP file which may be more useful depending on your application. e.g.</p>

<div class="source">
<pre>{ image: {...} }
</pre></div>
<p>&#160;&#160;&#160;&#160; becomes</p>

<div class="source">
<pre>jsonpVar = { image: {...} }
</pre></div>
<p><b>css</b><br />&#160;&#160;&#160;&#160; <i>(optional)</i> File to write CSS classes to. See <a href="#css">below</a> for more information on the format.</p>
<p><b>cssPrefix</b><br />&#160;&#160;&#160;&#160; <i>(optional)</i> Prefix to add to CSS classes. For instance, if there is a &#x201c;smiley.png&#x201d; icon it would normally get the CSS class name &#x201c;.smiley&#x201d;, whereas if the prefix &#x201c;icon&#x201d; is specified the resulting class is &#x201c;.icon-smiley&#x201d;. This helps ensure that icon class names don&#x2019;t conflict with other CSS classes.</p>
<p><b>less</b><br />&#160;&#160;&#160;&#160; <i>(optional)</i> File to write Less mixins to. See <a href="#less">below</a> for information on usage.</p>
<p><b>lessNamespace</b><br />&#160;&#160;&#160;&#160; <i>(optional)</i> The namespace that contains the Less mixins. If this is specified then all icon mixins are put into a #namespace{ } block, which helps prevent conflicts with other Less mixins.</p></div>
<div class="section">
<h2>Output formats<a name="Output_formats"></a></h2>
<div class="section">
<h3>CSS<a name="CSS"></a></h3>
<p>If a CSS output file is specified, the name of each icon file in the source directory becomes a CSS class, optionally prefixed with the cssPrefix specified in the configuration, that contains position and size information about the icon within the spritesheet. For instance, an icon with source name &#x201c;smiley.png&#x201d;, with cssPrefix &#x201c;icon&#x201d; specified, would result in the CSS class &#x201c;.icon-smiley&#x201d;. Note that special characters are removed and number or hyphens at the beginning of class names are prefixed with an underscore, in keeping with the CSS specification (see [http://www.w3.org/TR/CSS2/syndata.html#characters] ).</p>
<p>For instance, a source directory containing the following files:</p>

<div class="source">
<pre>0smiley.png
-1frown.png
+2wink!.png
excited.png
</pre></div>
<p>would result in the following CSS:</p>

<div class="source">
<pre>._0smiley{background-position:0 0;width:20px;height:20px;}
._-1frown{background-position:-20px 0;width:20px;height:20px;}
._2wink{background-position:0 -20px;width:20px;height:20px;}
.excited{background-position:-20px -20px;width:20px;height:20px;}
</pre></div></div>
<div class="section">
<h3>Less<a name="Less"></a></h3>
<p>If a Less output files is specified, Less mixins are created for each icon file in the source directory. The resulting mixin file holds three functions for each icon:</p>

<div class="source">
<pre>.create(icon-name) // to create an icon with .pos() and .size()
.pos(icon-name) // to get the background-position
.size(icon-name) // to get the size
</pre></div>
<p>If you configure lessNamespace these mixins will be surrounded by the chosen Less namespace (#namespace{ }), in which case you can call the mixins using the following syntax:</p>

<div class="source">
<pre>#namespace &gt; .create(icon-name)
#namespace &gt; .pos(icon-name)
#namespace &gt; .size(icon-name)
</pre></div>
<p>When defining position and size of icons at once, the .create() function can be used, while the .pos() function is useful when the position of an already-defined icon changes, such as for hover states. For example, to define a hover-state for an icon within a button, you could do something like this:</p>

<div class="source">
<pre>// standard non-hovered icon
a.button .icon-help {
    #icon &gt; .create(icon-help1);  // define background-position, width and height
}

// if only the sprite position changes on hover
a.button:hover .icon-help {
    #icon &gt; .pos(icon-help2);  // define only background-position
}
</pre></div></div>
<div class="section">
<h3>JSON<a name="JSON"></a></h3>
<p>If a JSON output file is specified it is formatted as in the example below. At the top level are keys which are derived from the file names of the images, with the extension stripped. For that reason, if you wish to use this data you must ensure these filenames are unique throughout the entire list of images.</p>
<p>At the next level are the width (<i>w</i>), height (<i>h</i>), negative x location (<i>x</i>), negative y location (<i>y</i>), and both x and y in one for convenience (<i>xy</i>) as strings with &#x201c;px&#x201d; appended for use in a stylesheet.</p>
<p>At that level is also <i>n</i> which contains the same keys (apart from <i>xy</i>) with the same values as pure integers. </p>

<div class="source">
<pre>{
    &quot;example&quot; : {
       &quot;w&quot; : &quot;128px&quot;,
       &quot;n&quot; : {
         &quot;w&quot; : 128,
         &quot;h&quot; : 128,
         &quot;y&quot; : 10,
         &quot;x&quot; : 398
       },
       &quot;h&quot; : &quot;128px&quot;,
       &quot;y&quot; : &quot;-10px&quot;,
       &quot;xy&quot; : &quot;-398px -10px&quot;,
       &quot;x&quot; : &quot;-398px&quot;
    },
    &quot;anotherImage&quot; : {
       &quot;w&quot; : &quot;378px&quot;,
       &quot;n&quot; : {
         &quot;w&quot; : 378,
         &quot;h&quot; : 378,
         &quot;y&quot; : 10,
         &quot;x&quot; : 10
       },
       &quot;h&quot; : &quot;378px&quot;,
       &quot;y&quot; : &quot;-10px&quot;,
       &quot;xy&quot; : &quot;-10px -10px&quot;,
       &quot;x&quot; : &quot;-10px&quot;
    }
}
</pre></div>
<p>This was originally built for use with the official lesscss-maven-plugin with the idea being this plugin creates a spritesheet and writes the data, and that plugin loads the data and makes it available within the less files. That&#x2019;s not possible in the standard lesscss-maven-plugin because it can&#x2019;t read custom JS files however lesscss-java does have the ability to do so, meaning it was quite simple to add to lesscss-maven-plugin. There is a forked version available here <a class="externalLink" href="https://github.com/murphybob/lesscss-maven-plugin">lesscss-maven-plugin with customJs parameter</a> which will allow this.</p>
<p>If you are using that then add <i>jsonpVar</i> in the Spritepacker configuration in your pom.xml, and add the output jsonp file as a <i>customJsFile</i> in the lesscss-maven-plugin pom.xml and you will be able to reference sprites in your less files like this:</p>

<div class="source">
<pre>.sprite(@sprite){
  background-image: url(../images/assets-sprite.png);
  width: ~`Sprites[@{sprite}].w`;
  height: ~`Sprites[@{sprite}].h`;
  background-position: ~`Sprites[@{sprite}].xy`;
}

#demo1 {
  .sprite(&quot;bob&quot;);
  border: 1px solid red;
}
</pre></div>
<p>where <i>Sprites</i> is the value of jsonpVar.</p></div></div>
<div class="section">
<h2>Notes<a name="Notes"></a></h2>
<p>This uses Java libraries for creating the spritesheet; it can almost certainly be made smaller by adding your favourite PNG optimiser (optipng, deflopt, advancepng, etc) downstream in the build process. </p></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                    2012&#x2013;2014
                        <a href="https://1and1.github.com/">1&1</a>.
            All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>